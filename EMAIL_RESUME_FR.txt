â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‰ SYSTÃˆME D'ALERTE PAR EMAIL - IMPLÃ‰MENTATION COMPLÃˆTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… FONCTIONNALITÃ‰ AJOUTÃ‰E:

Ã€ chaque incident dÃ©tectÃ©, un email d'alerte est envoyÃ© Ã :
ğŸ“§ nouhaila.touil.23@ump.ac.ma

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ RÃ‰SUMÃ‰ DES MODIFICATIONS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ“ projet/settings.py
   Ajout de la configuration SMTP:
   - EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
   - EMAIL_HOST = 'smtp.gmail.com'
   - EMAIL_PORT = 587
   - EMAIL_USE_TLS = True
   - EMAIL_HOST_USER = 'Ã€ configurer'
   - EMAIL_HOST_PASSWORD = 'Ã€ configurer'
   - DEFAULT_FROM_EMAIL = 'Ã€ configurer'
   - ALERT_EMAIL = 'nouhaila.touil.23@ump.ac.ma'

2. âœ“ DHT/signals.py
   Ajout de la fonction send_incident_alert_email():
   - CrÃ©e un email professionnel avec formatage
   - GÃ¨re les erreurs gracieusement
   - Envoie lors de la crÃ©ation d'incident
   - Envoie lors de chaque escalade
   - Logs dÃ©taillÃ©s de l'envoi

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ FICHIERS CRÃ‰Ã‰S (DOCUMENTATION & OUTILS):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– GUIDES:
  EMAIL_START_HERE.txt              â† Commencer ici!
  QUICK_EMAIL_SETUP.txt             (5 min - rapide)
  EMAIL_SETUP_GUIDE.md              (complet - dÃ©taillÃ©)
  EMAIL_CONFIG.txt                  (aide rapide SMTP)
  EMAIL_ALERTS_INFO.txt             (informations gÃ©nÃ©rales)
  OUTLOOK_EMAIL_CONFIG.txt          (pour Outlook)
  EMAIL_CHECKLIST.txt               (vÃ©rifications)
  EMAIL_IMPLEMENTATION_SUMMARY.txt  (rÃ©sumÃ© technique)

ğŸ› ï¸ OUTILS:
  configure_email.py                (configuration interactive)
  test_email_config.py              (test SMTP)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ MISE EN PLACE (4 Ã‰TAPES):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ã‰TAPE 1: Obtenir les identifiants
â”œâ”€ Pour Gmail: Allez sur myaccount.google.com
â”‚  â”œâ”€ SÃ©curitÃ© â†’ Authentification 2FA
â”‚  â”œâ”€ SÃ©curitÃ© â†’ Mots de passe d'application
â”‚  â”œâ”€ SÃ©lectionnez: Mail + Windows
â”‚  â””â”€ Copiez le mot de passe gÃ©nÃ©rÃ©
â”‚
â””â”€ Pour Outlook: Utilisez directement votre email/mdp

Ã‰TAPE 2: Configurer Django
â”œâ”€ Ouvrez: projet/settings.py
â”œâ”€ Cherchez: EMAIL_HOST_USER = 'your-email@gmail.com'
â”œâ”€ Remplacez par: EMAIL_HOST_USER = 'votre-email@gmail.com'
â”œâ”€ Remplacez: EMAIL_HOST_PASSWORD = 'mot-de-passe-app'
â”œâ”€ Remplacez: DEFAULT_FROM_EMAIL = 'votre-email@gmail.com'
â””â”€ Sauvegardez (Ctrl+S)

Ã‰TAPE 3: Tester
â”œâ”€ Ouvrez terminal
â”œâ”€ ExÃ©cutez: python manage.py shell < test_email_config.py
â””â”€ Attendu: âœ… Email envoyÃ© avec succÃ¨s...

Ã‰TAPE 4: RedÃ©marrer
â”œâ”€ RedÃ©marrez Django
â”œâ”€ $ python manage.py runserver
â””â”€ Vous recevrez les emails!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ‰ï¸ QUAND LES EMAILS SONT ENVOYÃ‰S:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ CrÃ©ation d'incident
  TempÃ©rature < 2Â°C ou > 8Â°C
  â†’ Email d'alerte (Niveau 1/7)
  â†’ OpÃ©rateur 1 alertÃ©

âœ“ Escalade (Ã  chaque lecture anormale)
  â†’ Email d'escalade (Niveau +1)
  â†’ OpÃ©rateurs alertÃ©s selon niveau
  
  Niveaux d'escalade:
  1-3: OpÃ©rateur 1
  4-6: OpÃ©rateur 1 + 2
  7+:  OpÃ©rateur 1 + 2 + 3

âœ— Incident rÃ©solu (quelqu'un rÃ©pond)
  â†’ Pas d'email

âœ— Incident fermÃ© (tempÃ©rature revient Ã  normal)
  â†’ Pas d'email

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“§ CONTENU DES EMAILS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Sujet: ğŸš¨ ALERTE INCIDENT #X - Niveau Y/7

Contient:
  ID Incident
  Niveau d'escalade
  Statut (Ouvert/EscaladÃ©)
  Date et heure
  OpÃ©rateurs alertÃ©s
  DonnÃ©es des capteurs (temp, humiditÃ©)
  Invitation Ã  consulter le tableau de bord

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… VÃ‰RIFICATION DE L'IMPLÃ‰MENTATION:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Code Python sans erreur
  $ python -m py_compile projet/settings.py
  $ python -m py_compile DHT/signals.py

âœ“ Imports prÃ©sents
  from django.core.mail import send_mail
  from django.conf import settings

âœ“ Fonction prÃ©sente
  def send_incident_alert_email(incident)

âœ“ Appels prÃ©sents
  send_incident_alert_email(incident) Ã—2

âœ“ Configuration prÃ©sente
  EMAIL_HOST_USER, EMAIL_HOST_PASSWORD, etc.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”’ SÃ‰CURITÃ‰:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Utilisez TOUJOURS mot de passe d'application (Gmail)
âœ“ Jamais votre vrai mot de passe Gmail
âœ“ Utilisez TOUJOURS TLS pour les connexions SMTP
âœ“ Ne partagez JAMAIS EMAIL_HOST_PASSWORD
âœ“ Ne commitez PAS les identifiants en clair sur Git

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â“ DÃ‰PANNAGE RAPIDE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Erreur: "Email SMTP non configurÃ©"
â†’ EMAIL_HOST_USER = '' (vide!)
â†’ Remplissez-le dans settings.py

Erreur: SMTPAuthenticationError
â†’ Mauvais mot de passe
â†’ Utilisez mot de passe d'application Gmail, pas votre mdp Gmail

Erreur: SMTPServerDisconnected
â†’ ProblÃ¨me de connexion Internet
â†’ VÃ©rifiez EMAIL_HOST, EMAIL_PORT, EMAIL_USE_TLS

Email non reÃ§u
â†’ VÃ©rifiez le dossier Spam/Junk
â†’ VÃ©rifiez ALERT_EMAIL = 'nouhaila.touil.23@ump.ac.ma'
â†’ Testez: python manage.py shell < test_email_config.py

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š DOCUMENTATION RECOMMANDÃ‰E:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. LIRE: EMAIL_START_HERE.txt (orientation)
2. LIRE: QUICK_EMAIL_SETUP.txt (mise en place rapide)
3. FAIRE: python configure_email.py (configuration auto)
4. FAIRE: test_email_config.py (test)
5. LIRE: EMAIL_SETUP_GUIDE.md (si problÃ¨me)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ¨ C'EST PRÃŠT!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Le systÃ¨me d'alerte par email est complÃ¨tement intÃ©grÃ©.

Prochaine Ã©tape: Configurez vos identifiants!

â†’ Commencez par: EMAIL_START_HERE.txt

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
