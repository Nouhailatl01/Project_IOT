ğŸš€ CONFIGURATION RAPIDE - EMAILS D'ALERTE
========================================

â±ï¸ Temps estimÃ©: 5-10 minutes

Ã‰TAPE 1: Obtenir les identifiants
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Pour GMAIL (recommandÃ©):
1. Allez sur https://myaccount.google.com
2. Cliquez "SÃ©curitÃ©"
3. Activez l'authentification 2FA
4. Allez Ã  "Mots de passe d'application"
5. SÃ©lectionnez "Mail" et "Windows"
6. Cliquez "GÃ©nÃ©rer"
7. Copiez le mot de passe (ex: abcd efgh ijkl mnop)

Pour OUTLOOK/HOTMAIL:
1. Allez sur https://account.microsoft.com
2. Utilisez directement votre email et mot de passe

Ã‰TAPE 2: Configurer Django
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ouvrez: projet/settings.py

Cherchez le bloc (vers la fin):

    # ===== CONFIGURATION EMAIL =====
    EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
    EMAIL_HOST = 'smtp.gmail.com'
    EMAIL_PORT = 587
    EMAIL_USE_TLS = True
    EMAIL_HOST_USER = 'your-email@gmail.com'
    EMAIL_HOST_PASSWORD = 'your-app-password'
    DEFAULT_FROM_EMAIL = 'your-email@gmail.com'
    
    ALERT_EMAIL = 'nouhaila.touil.23@ump.ac.ma'

REMPLACEZ ces 3 lignes UNIQUEMENT:

    EMAIL_HOST_USER = 'your-email@gmail.com'
    â†“
    EMAIL_HOST_USER = 'votre-email@gmail.com'


    EMAIL_HOST_PASSWORD = 'your-app-password'
    â†“
    EMAIL_HOST_PASSWORD = 'abcd efgh ijkl mnop'  (votre mot de passe d'application)


    DEFAULT_FROM_EMAIL = 'your-email@gmail.com'
    â†“
    DEFAULT_FROM_EMAIL = 'votre-email@gmail.com'

Puis sauvegardez le fichier (Ctrl+S).

Ã‰TAPE 3: Tester
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ouvrez un terminal et exÃ©cutez:

    python manage.py shell < test_email_config.py

Vous devez voir:
    âœ… Email envoyÃ© avec succÃ¨s Ã  nouhaila.touil.23@ump.ac.ma!

Si erreur "SMTPAuthenticationError":
  â†’ VÃ©rifiez que vous utilisez le bon mot de passe d'application
  â†’ Pour Gmail: pas votre mot de passe Gmail, mais celui gÃ©nÃ©rÃ©!

Si erreur "Email SMTP non configurÃ©":
  â†’ VÃ©rifiez que EMAIL_HOST_USER n'est pas vide

Ã‰TAPE 4: C'est tout!
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

RedÃ©marrez Django:
    python manage.py runserver

CrÃ©ez un incident (tempÃ©rature < 2Â°C ou > 8Â°C):
    curl -X POST http://localhost:8000/api/post \
      -H "Content-Type: application/json" \
      -d '{"temp": 1.0, "hum": 50}'

VÃ©rifiez votre email: nouhaila.touil.23@ump.ac.ma
Vous devez recevoir une alerte!

========================================
âœ¨ C'EST TOUT! Vous avez rÃ©ussi!
========================================

Chaque nouvel incident gÃ©nÃ©rera un email.
Chaque escalade gÃ©nÃ©rera un email.

Pour l'aide complÃ¨te: EMAIL_SETUP_GUIDE.md
